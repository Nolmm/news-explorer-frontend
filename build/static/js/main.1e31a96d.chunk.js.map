{"version":3,"sources":["contexts/CurrentUserContext.js","components/Navigation/Navigation.js","components/Header/Header.js","components/SavedNewsHeader/SavedNewsHeader.js","components/NewsCard/NewsCard.js","components/SavedNews/SavedNews.js","components/Footer/Footer.js","components/Validation/Validation.js","components/SearchForm/SearchForm.js","components/NewsCardList/NewsCardList.js","components/Results/Results.js","components/About/About.js","components/Preloader/Preloader.js","images/notfound.svg","components/NotFound/NotFound.js","components/Main/Main.js","components/PopupWithForm/PopupWithForm.js","components/PopupRegister/PopupRegister.js","components/PopupLogin/PopupLogin.js","components/InfoTooltip/InfoTooltip.js","utils/NewsApi.js","utils/MainApi.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","index.js"],"names":["CurrentUserContext","React","createContext","Navigation","props","name","useContext","useState","userName","setUserName","useEffect","className","isOpenMob","theme","to","loggedIn","onClick","handleLogout","width","height","fill","xmlns","fill-rule","clip-rule","d","Header","type","onClose","open","SavedNewsHeader","keywords","setKeywords","selectByQuantity","articles","map","el","keyword","toUpperCase","slice","number","arr","quantity","forEach","item","filter","sort","a","b","savedText","length","join","NewsCard","id","savedNews","onCardDelete","evt","target","classList","contains","onDelete","addArticleClick","title","text","date","source","link","url","image","rel","href","src","alt","dateArticle","Date","toLocaleString","month","day","getFullYear","changeDateformat","SavedNews","saved","_id","deleteArticle","Footer","clip-path","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","pattern","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","value","test","validationMessage","getMessage","closest","checkValidity","SearchForm","visibleError","setVisibleErrorError","input","useRef","onSubmit","preventDefault","searchformInput","noValidate","ref","placeholder","autoComplete","required","onChange","onFocus","requestArticles","current","NewsCardList","index","setIndex","data","setArticles","createArticle","urlToImage","publishedAt","description","array","Results","setSaved","About","Preloader","NotFound","notfound","Main","search","PopupWithForm","isOpen","formName","children","PopupRegister","onPopupRegister","handleRegister","email","password","minLength","maxLength","error","register","disabled","onLogin","PopupLogin","buttonTitle","onInfoTooltip","handleLogin","login","onRegister","InfoTooltip","newsApi","baseUrl","apiKey","this","dateStart","getMonth","getDate","sevenDays","setDate","dateEnd","fetch","method","headers","then","res","ok","json","Promise","reject","Error","status","mainApi","body","JSON","stringify","parse","message","jwt","localStorage","getItem","statusText","_headers","authorization","ProtectedRoute","Component","component","App","headerTheme","setheaderTheme","setLoggedIn","currentUser","setcurrentUser","setSearch","authError","setAuthError","isPopupRegisterOpen","setIsPopupRegisterOpen","isPopupLoginOpen","setIsPopupLoginOpen","isInfoTooltipopen","setIsInfoTooltipopen","mobileOpen","setMobileOpen","savedArticles","setSavedArticles","history","useHistory","handlePopupLoginClick","closeAllPopups","getToken","news","catch","err","console","log","closingByEsc","key","closingByBackground","window","addEventListener","removeEventListener","all","getUserMe","getArticles","userData","saveCardData","deleteArticleRequest","result","newArr","undefined","Provider","removeItem","push","exact","path","arrayWithKeywords","setItem","finally","_","setData","newArticles","token","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e31a96d.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import './Navigation.css';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext.js';\n\nfunction Navigation(props) {\n  const { name } = React.useContext(CurrentUserContext);\n  const [userName, setUserName] = React.useState('');\n  React.useEffect(() => {\n    setUserName(name);\n  }, [name])\n\n  return (\n    <nav className={` navigation ${props.isOpenMob ? 'navigation__mobile-opened' : props.theme ? 'navigation__black' : ''}`}>\n      <ul className=\"navigation__items\">\n        <li><Link to=\"/\" className=\"navigation__item navigation__item_main\">Главная</Link></li>\n        <li>{props.loggedIn || props.isOpenMob ? <Link to=\"/saved-news\" className={`navigation__item ${props.loggedIn && props.theme ? 'navigation__item_saved-news' : ''}`}>Сохраненные статьи</Link> : ''}</li>\n        <li>{props.loggedIn ?\n          <button onClick={props.handleLogout} className={`navigation__button ${props.theme ? 'navigation__button_border-black' : 'navigation__button_border-white'}`}>{userName} {props.theme ? <svg className=\"navigation__logaut navigation__logaut_mobile\" width=\"24\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10 6H6v12h4v2H6a2 2 0 01-2-2V6a2 2 0 012-2h4v2zm7.586 7l-4.293 4.134 1.414 1.362 6.707-6.459-6.707-6.459-1.414 1.362 4.293 4.134H8V13h9.586z\" fill=\"#1A1B22\" />\n          </svg> : <svg className=\"navigation__logaut\" width=\"24\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10 6H6v12h4v2H6a2 2 0 01-2-2V6a2 2 0 012-2h4v2zm7.586 7l-4.293 4.134 1.414 1.362 6.707-6.459-6.707-6.459-1.414 1.362 4.293 4.134H8V13h9.586z\" fill=\"#fff\" />\n            </svg>}\n          </button> : <button onClick={props.onClick} className={` navigation__button_main ${props.theme ? '' : 'navigation__button_border-white'}`}>{'Авторизоваться'}</button>}</li>\n      </ul>\n    </nav>\n  )\n}\n\nexport default Navigation;\n","import React from 'react';\nimport './Header.css'\nimport Navigation from '../Navigation/Navigation.js'\nimport { Link } from 'react-router-dom';\n\nfunction Header(props) {\n \n\n  return (\n    <header className={`header ${props.isOpenMob ? 'header__background' : ''} ${props.theme ? 'header_saved-news' : 'header_main'}`}>\n      <Link  className=\"header__link\" to=\"/\"><div className={`${props.theme ? 'header__logo' : 'header__logo-main'} ${props.isOpenMob ? 'header__logo-main' : 'header__logo' }`}>NewsExplorer</div>\n      </Link>\n      <button type=\"button\" onClose={props.onClose} onClick={props.open} className={`header__burger ${props.theme ? 'header__burger-img_black' : 'header__burger-img_white'} ${props.isOpenMob ? 'header__burger-close' : ''}`}></button>\n      <Navigation \n      theme={props.theme}\n      loggedIn={props.loggedIn} \n      onClick={props.onClick}\n      isOpenMob={props.isOpenMob}\n      handleLogout={props.handleLogout}\n      ></Navigation>\n    </header>\n  );\n}\n\nexport default Header;\n\n\n","import './SavedNewsHeader.css';\nimport {CurrentUserContext } from '../../contexts/CurrentUserContext.js';\nimport React from 'react';\n\nfunction SavedNewsHeader (props) {\n  const { name } = React.useContext(CurrentUserContext);\n  const [ keywords, setKeywords ] = React.useState([]);\n\n  React.useEffect(() => {\n    setKeywords(selectByQuantity(props.articles.map(el => el.keyword[0].toUpperCase() + el.keyword.slice(1))));\n  }, [props.articles])\n\n  const selectByQuantity = (arr) => {\n    const quantity = {};\n    arr.forEach((item) => quantity[item] = 0);\n    const uniquesKeyword = arr.filter((item) => ++quantity[item] === 1);\n    return uniquesKeyword.sort((a, b) => quantity[b] - quantity[a]);\n  }\n\n  function sortNum(number, titles) {\n    const cases = [2, 0, 1, 1, 1, 2];\n    return titles[ (number%100>4 && number%100<20)? 2 : cases[(number%10<5)?number%10:5] ];\n  }\n  const savedText = sortNum(props.articles.length, ['сохранённая статья', 'сохранённые статьи', 'сохранённых статей']);\n  return (\n    <section className=\"savednewsheader\">\n      <h2 className=\"savednewsheader__title\">Сохранённые статьи</h2>\n      <p className=\"savednewsheader__subtitle\">{`${name}, у вас ${props.articles.length} ${savedText}`}</p>\n      <p className=\"savednewsheader__keywords\">По ключевым словам: \n      <span className=\"savednewsheader__keyword\">\n        {keywords.length > 3 ? `${keywords[0]}, ${keywords[1]} и ${keywords.length - 2}-м другим` : `${keywords.join(', ')}`}</span></p>\n    </section>\n  )\n}\n\nexport default SavedNewsHeader;\n","import './NewsCard.css';\nimport React from 'react';\n\nfunction NewsCard(props) {\n  // меняет формат даты, приходящей от ньюс апи\n  const changeDateformat = (item) => {\n    const dateArticle = new Date(item);\n    const correctDate = `${dateArticle.toLocaleString(\"ru-RU\", { month: 'long', day: 'numeric' })}, ${dateArticle.getFullYear()}`;\n    return correctDate;\n  }\n\n  function clickOnArticleButton(evt) {\n    if (evt.target.classList.contains('results__bookmark-marked') && props.loggedIn) {\n      return props.onDelete(props.id)\n    }\n    if (evt.target.classList.contains('results__bookmark') && props.loggedIn) {\n        props.addArticleClick({\n          title: props.title,\n          text: props.text,\n          date: props.date,\n          source: props.source,\n          link: props.url,   \n          image: props.image,\n          keyword: props.keyword\n      })\n    } \n  }\n\n  return (\n    <li className=\"newscard__conteiner\" >\n      <div className={`${props.loggedIn && props.id && props.savedNews ? 'newscard__keyword' : 'newscard__keyword_hidden'}`}>{props.keyword}</div>\n      {props.id && props.savedNews ?\n        <button type=\"reset\" className=\"newscard__trash\" onClick={props.onCardDelete}></button>\n        : props.loggedIn ?\n          <button type=\"button\" className={`results__bookmark ${props.id ? 'results__bookmark-marked' : ''}`}\n            onClick={clickOnArticleButton}></button>\n          :\n          <button className=\"results__bookmark results__bookmark_not-loggedin\" onClick={props.onClick}></button>\n      }\n      <a target='_blank'\n        rel='noreferrer'\n        href={props.url || props.link}\n      > <img className=\"newscard__img\" src={props.image} alt=\"иллюстрация к новости\" /></a>\n      <figcaption className=\"newscard__figcaption\">\n        <p className=\"newscard__date\">{changeDateformat(props.date)}</p>\n        <a target='_blank'\n        rel='noreferrer'\n        href={props.url || props.link}\n        className=\"newscard__link\"><h3 className=\"newscard__title\">{props.title}</h3>\n        <p className=\"newscard__text\">{props.text}</p></a>\n        <a className=\"newscard__link\"\n        target='_blank'\n        rel='noreferrer'\n        href={props.url || props.link}\n        ><p className=\"newscard__source\">{props.source}</p></a>\n      </figcaption>\n    </li>\n  )\n\n}\nexport default NewsCard","import './SavedNews.css';\nimport React from 'react';\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader.js'\nimport NewsCard from '../NewsCard/NewsCard.js'\n\nfunction SavedNews(props) {\n  //смена темы хедера\n  React.useEffect(() => {\n    props.theme(true);\n  }, []);\n\n  \n\n  function deleteArticle(id) {\n    props.deleteArticle(id)\n  }\n\n  \n  return (\n    <section className=\"savednews\">\n      <SavedNewsHeader articles={props.articles} />\n      <ul className=\"newscard__list\">\n        {props.saved.map(el =>\n          <NewsCard articles={true}\n            key={el._id}\n            id={el._id}\n            loggedIn={props.loggedIn}\n            keyword={el.keyword}\n            image={el.image}\n            date={el.date}\n            savedNews\n            url={el.link}\n            title={el.title}\n            text={el.text}\n            source={el.source}\n            saved={props.saved}\n            onCardDelete={() => deleteArticle(el._id)}\n          />)}\n      </ul>\n    </section>\n  )\n\n}\n\nexport default SavedNews;","import React from 'react';\nimport './Footer.css';\nimport { Link } from 'react-router-dom';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Supersite, Powered by News API</p>\n      <nav className=\"footer__navigation\">\n        <ul className=\"footer__navigation_container\">\n          <Link href=\"/\" className=\"footer__link\">Главная</Link>\n          <Link href=\"https://praktikum.yandex.ru/\" target=\"_blank\" className=\"footer__link\">Яндекс.Практикум</Link>\n        </ul>\n        <ul className=\"footer__social\">\n          <li className=\"footer__social-link\">\n            <Link href=\"https://github.com/Nolmm\">\n              <svg width=\"24\" height=\"24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11 .895C5.417.895.895 5.423.895 11c0 4.466 2.897 8.25 6.91 9.59.503.093.689-.217.689-.49 0-.242-.007-.874-.013-1.718-2.81.608-3.405-1.352-3.405-1.352-.46-1.167-1.123-1.477-1.123-1.477-.918-.626.068-.614.068-.614 1.011.075 1.55 1.042 1.55 1.042.9 1.545 2.364 1.098 2.941.838.093-.652.354-1.098.64-1.353-2.246-.254-4.604-1.122-4.604-4.993 0-1.104.391-2.004 1.042-2.711-.105-.254-.452-1.284.1-2.674 0 0 .85-.273 2.779 1.036a9.807 9.807 0 012.53-.341 9.844 9.844 0 012.532.341c1.929-1.309 2.779-1.036 2.779-1.036.552 1.39.205 2.42.1 2.674.644.707 1.035 1.607 1.035 2.71 0 3.884-2.363 4.734-4.615 4.988.36.31.688.93.688 1.874 0 1.352-.012 2.438-.012 2.773 0 .273.18.583.695.483 4.013-1.34 6.904-5.124 6.904-9.584C21.105 5.423 16.583.895 11 .895z\" fill=\"#191717\" />\n              </svg>\n            </Link></li>\n          <li className=\"footer__social-link\"><Link target=\"_blank\" href=\"https://facebook.com\">\n            <svg width=\"20\" height=\"20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <g clip-path=\"url(#clip0)\">\n                <path d=\"M18.896 0H1.104C.494 0 0 .494 0 1.104v17.793C0 19.506.494 20 1.104 20h9.58v-7.745H8.076V9.237h2.606V7.01c0-2.583 1.578-3.99 3.883-3.99 1.104 0 2.052.082 2.329.119v2.7h-1.598c-1.254 0-1.496.597-1.496 1.47v1.928h2.989l-.39 3.018h-2.6V20h5.098c.608 0 1.102-.494 1.102-1.104V1.104C20 .494 19.506 0 18.896 0z\" fill=\"#000\" />\n              </g>\n              <defs>\n                <clipPath id=\"clip0\">\n                  <path fill=\"#fff\" d=\"M0 0h20v20H0z\" />\n                </clipPath>\n              </defs>\n            </svg>\n          </Link>\n          </li>\n        </ul>\n      </nav>\n    </footer>\n  )\n\n}\n\nexport default Footer;","import React, { useCallback } from 'react';\n\n//хук управления формой и валидации формы\nexport  default function useFormWithValidation() {\n  const [values, setValues] = React.useState({});\n  const [errors, setErrors] = React.useState({});\n  const [isValid, setIsValid] = React.useState(false);\n  const pattern = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/igm;\n  const getMessage = (target) => {\n    if (target.type === 'email' && !pattern.test(target.value)) {\n      return 'Неправильный формат email';\n    }\n    return target.validationMessage;\n  };\n\n  const handleChange = (event) => {\n    const { target } = event;\n    const { value } = target;\n    const { name } = target;\n    setValues({ ...values, [name]: value });\n    setErrors({ ...errors, [name]: getMessage(target, name) });\n    setIsValid(target.closest('form').checkValidity());\n  };\n\n  const resetForm = useCallback(\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\n      setValues(newValues);\n      setErrors(newErrors);\n      setIsValid(newIsValid);\n    },\n    [setValues, setErrors, setIsValid]\n  );\n\n  return { values, handleChange, errors, isValid, resetForm };\n}","import './SearchForm.css';\nimport React from 'react';\nimport useFormWithValidation from '../Validation/Validation.js';\nimport { useRef } from 'react'\n\nfunction SearchForm(props) {\n  const { values, handleChange } = useFormWithValidation();\n  //показывает ошибку валидации\n  const [visibleError, setVisibleErrorError] = React.useState(false);\n  const input = useRef(null);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    if (!values.searchformInput) {\n      setVisibleErrorError(true);\n    }\n  }\n\n  function handleFocus() {\n    setVisibleErrorError(false);\n  }\n\n  //поиск статей\n  function findArticles() {\n    props.requestArticles(input.current.value)\n  }\n\n  return (\n    <section className=\"searchform\">\n      <h1 className=\"searchform__title\">Что творится в мире?</h1>\n      <p className=\"searchform__subtitle\">Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\n      <form className=\"searchform__form\" onSubmit={handleSubmit} noValidate>\n        <input\n          ref={input}\n          name=\"searchformInput\"\n          className={`searchform__input ${visibleError ? 'searchform__input_error' : ''}`}\n          placeholder={visibleError ? 'Нужно ввести ключевое слово' : 'Введите ключевое слово'}\n          autoComplete=\"on\" required\n          onChange={handleChange}\n          onFocus={handleFocus}>\n        </input>\n        <button className=\"searchform__button\" onClick={findArticles}>Искать</button>\n      </form>\n    </section>\n  )\n}\n\nexport default SearchForm;","import './NewsCardList.css';\nimport React from 'react';\nimport NewsCard from '../NewsCard/NewsCard.js';\n\n\nfunction NewsCardList(props) {\n  const [index, setIndex] = React.useState(6);\n  const [articles, setArticles] = React.useState(props.data.slice(0, 3));\n  const showMore = () => {\n    setIndex(array => array += 3);\n    setArticles(props.data.slice(0, index));\n  }\n\n  React.useEffect(() => {\n    setArticles(props.data.slice(0, 3));\n  }, [props.data])\n\n  function addArticleClick(data) {\n    props.createArticle(data)\n  }\n\n  function deleteArticle(id) {\n    props.deleteArticle(id)\n  }\n\n  return (\n    <div>\n      <ul className=\"newscard__list\">\n        {articles.map((item) => <NewsCard\n          id={item._id}\n          key={item.url}\n          keyword={item.keyword}\n          image={item.urlToImage}\n          date={item.publishedAt}\n          title={item.title}\n          text={item.description}\n          source={item.source.name}\n          loggedIn={props.loggedIn}\n          url={item.url}\n          onClick={props.onClick}\n          onDelete={(id) => deleteArticle(id)}\n          addArticleClick={addArticleClick}\n          createArticle={props.createArticle}\n        />)}\n      </ul>\n      <div className=\"results__button_conteiner\">\n        {props.data.length !== articles.length ? <button className=\"results__button\" onClick={showMore}>Показать еще</button> : ''}\n      </div>\n    </div>\n  )\n\n}\n\nexport default NewsCardList;","import './Results.css';\nimport React from 'react';\nimport NewsCardList from '../NewsCardList/NewsCardList.js'\n\nfunction Results(props) {\n  return (\n    <section className=\"results\">\n      <h2 className=\"results__title\">Результаты поиска</h2>\n      <NewsCardList\n        data={props.data}\n        createArticle={props.createArticle}\n        deleteArticle={props.deleteArticle}\n        loggedIn={props.loggedIn}\n        onClick={props.onClick}\n        setSaved={props.setSaved}\n      />\n    </section>\n  )\n}\n\nexport default Results\n","import React from 'react';\nimport './About.css';\n\nfunction About() {\n  return (\n    <section className=\"about\">\n      <div className=\"about__foto\"></div>\n      <div className=\"about__container\">\n      <h2 className=\"about__title\">Об авторе</h2>\n      <p className=\"about__text\">Это блок с описанием автора проекта. Здесь следует указать, как вас зовут, чем вы занимаетесь, какими технологиями разработки владеете.</p>\n      <p className=\"about__text\">Также можно рассказать о процессе обучения в Практикуме, чему вы тут научились, и чем можете помочь потенциальным заказчикам.</p>\n      </div>\n    </section>\n  )\n}\n\nexport default About;\n\n\n// обязателно написать описание когда закончу все остальное","import './Preloader.css';\nimport React from 'react';\n\nfunction Preloader() {\n  return (\n    <section className=\"preloader\">\n      <i className=\"preloader__circle\"></i>\n        <p className=\"preloader__title\">Идет поиск новостей...</p>\n    </section>\n  )\n}\n\nexport default Preloader","export default __webpack_public_path__ + \"static/media/notfound.8fabc218.svg\";","import './NotFound.css';\nimport React from 'react';\nimport notfound from '../../images/notfound.svg'\n\nfunction NotFound() {\n  return (\n    <section className=\"notfound\">\n      <img className=\"notfound__image\" src={notfound} alt=\"ничего не найдено\"></img>\n      <h3 className=\"notfound__title\">Ничего не найдено</h3>\n      <p className=\"notfound__subtitle\">К сожалению по вашему запросу</p>\n      <p className=\"notfound__subtitle\">ничего не найдено.</p>\n    </section>\n  )\n}\n\nexport default NotFound;","import './Main.css';\nimport React from 'react';\nimport SearchForm from '../SearchForm/SearchForm.js'\nimport Results from '../Results/Results.js'\nimport About from '../About/About.js'\nimport Preloader from '../Preloader/Preloader.js'\nimport NotFound from '../NotFound/NotFound.js'\n\n//функция отрисовывает страницу в зависимости от запроса\nconst renderContent = (data, search, createArticle, deleteArticle, loggedIn, id, onClick, setSaved) => {\n  if (search) return <Preloader />\n  if (data === null) return\n  if (data.length === 0) return <NotFound />\n  return <Results data={data} createArticle={createArticle} deleteArticle={deleteArticle} loggedIn={loggedIn} onClick={onClick} setSaved={setSaved}/>\n}\n\nfunction Main(props) {\n  //меняет цвет хедера\n  React.useEffect(() => {\n    props.theme(false);\n  }, []);\n  return (\n    <section className=\"main\">\n      <SearchForm requestArticles={props.requestArticles}/>\n      {renderContent(props.data, props.search, props.createArticle, props.deleteArticle, props.loggedIn, props.id, props.onClick, props.setSaved)}\n      <About />\n    </section>\n  )\n\n}\n\nexport default Main;","import './PopupWithForm.css';\nimport React from 'react';\n\n\nfunction PopupWithForm(props) {\n  return (\n    <section className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close popup__close-btn\" onClick={props.onClose} ></button>\n        <form name={props.formName} className=\"popup__form\" onSubmit={props.onSubmit}>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n        </form>\n      </div>\n\n    </section>\n  )\n\n}\n\nexport default PopupWithForm;\n\n","import './PopupRegister.css';\nimport React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js'\nimport useFormWithValidation from '../Validation/Validation.js'\n\nfunction PopupRegister(props) {\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n  } = useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleRegister({\n      email: values.email,\n      password: values.password,\n      name: values.name,\n    });\n  }\n\n  React.useEffect(() => {\n    resetForm();\n  }, [props.isOpen]);\n\n  //смена попапа\n  function popupToggle() {\n    props.onClose();\n    props.onLogin();\n  }\n\n  return (\n    <PopupWithForm name=\"register\" title=\"Регистрация\" formName=\"register-form\"\n\n      onClick={props.onClick} isOpen={props.isOpen} onPopupRegister={props.onPopupRegister}\n      onClose={props.onClose} onSubmit={handleSubmit}\n    >\n      <label className=\"popup__label\">Email</label>\n      <input type=\"email\" className=\"popup__input\" placeholder=\"Введите email\" required name=\"email\" onChange={handleChange} value={values.email || ''}></input>\n      <span className=\"popup__error\">{errors.email}</span>\n      <label className=\"popup__label\">Пароль</label>\n      <input type=\"password\" className=\"popup__input\" placeholder=\"Введите пароль\" required name=\"password\" onChange={handleChange} value={values.password || ''}></input>\n      <span className=\"popup__error\">{errors.password}</span>\n      <label className=\"popup__label\">Имя</label>\n      <input onChange={handleChange} value={values.name || ''} type=\"text\" className=\"popup__input\" placeholder=\"Введите своё имя\" required name=\"name\" minLength=\"3\" maxLength=\"9\"></input>\n      <span className=\"popup__error\">{errors.name}</span>\n      <span className=\"popup__error popup__error_button\">{props.error.register}</span>\n      <button type=\"submit\" className={`${!isValid ? 'popup__submit-button_disabled' : 'popup__submit-button'}`} disabled={!isValid}\n      >Зарегистрироваться</button>\n      <p className=\"popup__or\">или<span onClick={popupToggle} className=\"popup__link\">Войти</span></p>\n    </PopupWithForm>\n  )\n\n}\n\nexport default PopupRegister;","import React from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm.js'\nimport useFormWithValidation from '../Validation/Validation.js'\n\nfunction PopupLogin(props) {\n  const {\n    values,\n    handleChange,\n    errors,\n    isValid,\n    resetForm,\n  } = useFormWithValidation();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.handleLogin({\n      email: values.email,\n      password: values.password,\n      name: values.name,\n    });\n  }\n\n  React.useEffect(() => {\n    resetForm();\n  }, [props.isOpen]);\n\n  //смена попапа\n  function popupToggle() {\n    props.onClose();\n    props.onRegister();\n  }\n\n  return (\n    <PopupWithForm name=\"login\" title=\"Вход\" formName=\"login-form\"\n      buttonTitle=\"Войти\"\n      isOpen={props.isOpen} onClick={props.onInfoTooltip}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}>\n      <label className=\"popup__label\">Email</label>\n      <input type=\"email\" className=\"popup__input\" placeholder=\"Введите email\" required name=\"email\" onChange={handleChange}\n        value={values.email || ''}\n      >\n\n      </input>\n      <span className=\"popup__error\">{errors.email}</span>\n      <label className=\"popup__label\">Пароль</label>\n      <input type=\"password\" className=\"popup__input\" placeholder=\"Введите пароль\" name=\"password\" required onChange={handleChange}\n        value={values.password || ''}\n      ></input>\n      <span className=\"popup__error\">{errors.password}</span>\n      <span className=\"popup__error popup__error_button\">{props.error.login}</span>\n      <button type=\"submit\" className={`${!isValid ? 'popup__submit-button_disabled' : 'popup__submit-button'}`} disabled={!isValid}\n      >Войти</button>\n      <p className=\"popup__or\">или<span onClick={popupToggle} className=\"popup__link\">Зарегестрироваться</span></p>\n    </PopupWithForm>\n  )\n\n}\n\nexport default PopupLogin;","import './InfoTooltip.css';\nimport React from 'react';\n\n\nfunction InfoTooltip(props) {\n  //смена попапа\n  function popupToggle() {\n    props.onClose();\n    props.onLogin();\n  }\n\n  return (\n    <section className={`popup ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container popup__container-tooltip\">\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\n        <h2 className=\"popup__title popup__title-tooltip\">Пользователь успешно зарегистрирован!</h2>\n        <span onClick={popupToggle} className=\"popup__link popup__link-tooltip\" >Войти</span>\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","const url = 'https://nomoreparties.co/news/v2/everything';\nconst apiKey = 'c5bc199947a34a7096759ba544e69356';\n\n\nclass NewsApi {\n  constructor({baseUrl, apiKey }) {\n    this.baseUrl = baseUrl;\n    this.apiKey = apiKey;\n  }\n\n  getArticles(keyword) {\n    const date = new Date();\n    const dateStart = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n    const sevenDays = date.getDate() - 7;\n    date.setDate(sevenDays);\n    const dateEnd = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n\n    return fetch(`${this.baseUrl}?language=ru&q=${keyword}&from=${dateEnd}&to=${dateStart}&pageSize=100&apiKey=${this.apiKey}`, {\n      method: 'GET', \n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    });\n  }\n}\n\nconst newsApi = new NewsApi({\n  baseUrl: url,\n  apiKey\n})\nexport default newsApi;\n\n\n","// const baseUrl = `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3001'}`\n\nclass MainApi {\n    constructor({ baseUrl, headers }) {\n        this.baseUrl = baseUrl;\n        this.headers = headers;\n    }\n\n\n    register(data) {\n\n        return fetch(`${this.baseUrl}/signup`, {\n            method: 'POST',\n            headers: this.headers,\n            body: JSON.stringify({\n                password: data.password,\n                email: data.email,\n                name: data.name\n            })\n        })\n            .then((res) => {\n                if (!res.ok) {\n                    return res.text()\n                        .then((text) => Promise.reject(new Error(JSON.parse(text).message)));\n                }\n                return res.json();\n            });\n\n    }\n\n    login(data) {\n        return fetch(`${this.baseUrl}/signin`, {\n            method: 'POST',\n            headers: this.headers,\n            body: JSON.stringify({\n                password: data.password,\n                email: data.email\n            })\n        })\n            .then((res) => {\n                if (!res.ok) {\n                    return res.text()\n                        .then((text) => Promise.reject(new Error(JSON.parse(text).message)));\n                }\n                return res.json();\n            });\n    }\n\n    getToken() {\n        const jwt = localStorage.getItem('jwt');\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: 'GET',\n            headers: {\n                ...this.headers,\n                \"Authorization\": `Bearer ${jwt}`\n            }\n        })\n            .then(res => res.ok ? res.json() : Promise.reject(`${res.status} ${res.statusText}`));\n    }\n\n    getArticles() {\n        const jwt = localStorage.getItem('jwt');\n        return fetch(`${this.baseUrl}/articles`, {\n            method: 'GET',\n            headers: {\n                ...this.headers,\n                \"Authorization\": `Bearer ${jwt}`\n            }\n        })\n            .then(res => res.ok ? res.json() : Promise.reject(`${res.status} ${res.statusText}`));\n    }\n\n    getUserMe() {\n        const jwt = localStorage.getItem('jwt');\n        return fetch(`${this.baseUrl}/users/me`, {\n            method: 'GET',\n            headers: {\n                ...this.headers,\n                \"Authorization\": `Bearer ${jwt}`\n            }\n        })\n            .then(res => res.ok ? res.json() : Promise.reject(`${res.status} ${res.statusText}`));\n    }\n\n    createArticle(data) {\n        const jwt = localStorage.getItem('jwt');\n        return fetch(`${this.baseUrl}/articles`, {\n            method: 'POST',\n            headers: {\n                ...this.headers,\n                \"Authorization\": `Bearer ${jwt}`\n            },\n            body: JSON.stringify({\n                keyword: data.keyword,\n                title: data.title,\n                text: data.text,\n                date: data.date,\n                source: data.source,\n                link: data.link,\n                image: data.image\n            })\n        })\n            .then((res) => res.ok ? res.json() : Promise.reject(`${res.status} ${res.statusText}`));\n    }\n\n    deleteArticle(id) {\n        const jwt = localStorage.getItem('jwt');\n        return fetch(`${this.baseUrl}/articles/${id}`, {\n            method: 'DELETE',\n            headers: {\n                ...this._headers,\n                authorization: `Bearer ${jwt}`,\n            }\n        })\n            .then(res => res.ok ? res.json() : Promise.reject(`${res.status} ${res.statusText}`))\n    }\n}\n\nconst mainApi = new MainApi({\n    baseUrl: 'http://api.nolmmnews.students.nomoreparties.space',\n    headers: {\n        \"Content-Type\": \"application/json\",\n    }\n})\n\nexport default mainApi;\n\n// `${window.location.protocol}${process.env.REACT_APP_API_URL || '//localhost:3000'}`","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nfunction ProtectedRoute({ component: Component, ...props }) {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to='./' />\n      } \n      </Route>\n    )\n  }\n\n  export default ProtectedRoute; ","import React from 'react';\nimport './App.css';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport '../../index.css';\nimport Header from '../Header/Header.js';\nimport SavedNews from '../SavedNews/SavedNews.js';\nimport Footer from '../Footer/Footer.js';\nimport Main from '../Main/Main.js';\nimport PopupRegister from '../PopupRegister/PopupRegister.js';\nimport PopupLogin from '../PopupLogin/PopupLogin.js';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip.js';\nimport newsApi from '../../utils/NewsApi.js';\nimport mainApi from '../../utils/MainApi.js';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute.js';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction App() {\n  //переменная состояния для хедера -  меняет цвет\n  const [headerTheme, setheaderTheme] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [currentUser, setcurrentUser] = React.useState({ name: '', email: '' })\n  //показывает прелоадер\n  const [search, setSearch] = React.useState(false);\n  //данные от ньюс апи\n  const [articles, setArticles] = React.useState(null);\n  //для серверных ошибок\n  const [authError, setAuthError] = React.useState({\n    register: '',\n    login: '',\n  });\n  //открытие попапа регистрации\n  const [isPopupRegisterOpen, setIsPopupRegisterOpen] = React.useState(false);\n  //открытие попапа входа при нажатии на кнопку войти в попапе регистрации\n  const [isPopupLoginOpen, setIsPopupLoginOpen] = React.useState(false);\n  //открытие попапа с сообщением об успешной регистрации\n  const [isInfoTooltipopen, setIsInfoTooltipopen] = React.useState(false);\n  //открытие и закрытие мобильного меню\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  // стэйт для сохранённых новостей\n  const [savedArticles, setSavedArticles] = React.useState([]);\n  const history = useHistory();\n\n  //запрос к апи для получения новостей\n  const requestArticles = (keyword) => {\n    setSearch(true)\n    newsApi.getArticles(keyword)\n      .then(res => {\n        const arrayWithKeywords = res.articles.map(item => {\n          item.keyword = keyword\n          return item\n        });\n        setArticles(arrayWithKeywords)\n        localStorage.setItem('Search', JSON.stringify(arrayWithKeywords))\n      })\n      .catch(err => console.log(err))\n      .finally(_ => {\n        setSearch(false)\n      })\n  }\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      mainApi.getToken()\n        .then((res) => {\n          setcurrentUser({\n            ...currentUser,\n            name: res.name,\n            email: res.email,\n          });\n          const news = (JSON.parse(localStorage.getItem(('Search'))))\n          setArticles(news)\n\n        })\n        .catch(err => console.log(err));\n    }\n  }, [loggedIn])\n\n  function handlePopupRegisterClick() {\n    setIsPopupRegisterOpen(true)\n  }\n\n  function handlePopupLoginClick() {\n    setIsPopupLoginOpen(true);\n  }\n\n  function handlemobileOpenClick() {\n    setMobileOpen(!mobileOpen);\n  }\n\n  //закрытие попапов\n  function closeAllPopups() {\n    setIsPopupRegisterOpen(false);\n    setIsPopupLoginOpen(false);\n    setIsInfoTooltipopen(false);\n    setMobileOpen(false);\n    setAuthError({\n      register: '',\n      login: '',\n    });\n  }\n\n  //закрытие по Escape и фону\n  React.useEffect(() => {\n    function closingByEsc(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    function closingByBackground(evt) {\n      if (evt.target.classList.contains('popup_opened')) {\n        closeAllPopups();\n      }\n    }\n    window.addEventListener('keydown', closingByEsc);\n    window.addEventListener('click', closingByBackground);\n\n    return () => {\n      window.removeEventListener('keydown', closingByEsc);\n      window.removeEventListener('click', closingByBackground);\n    };\n  }, []);\n\n  //регистрация\n  function handleRegister(data) {\n    setAuthError({\n      register: '',\n      login: '',\n    });\n    mainApi.register({\n      password: data.password,\n      email: data.email,\n      name: data.name\n    })\n      .then(() => {\n        closeAllPopups();\n        setIsInfoTooltipopen(true);\n        history.push('/');\n      })\n      .catch((err) => {\n        console.log(err)\n        setAuthError({\n          ...authError, register: err.message,\n        });\n      });\n  }\n\n  //вход\n  function handleLogin(data) {\n    setAuthError({\n      register: '',\n      login: '',\n    });\n    mainApi.login({\n      password: data.password,\n      email: data.email\n    })\n      .then((res) => {\n        localStorage.setItem('jwt', res.token);\n        closeAllPopups();\n        setLoggedIn(true);\n      })\n      .catch((err) => {\n        setAuthError({\n          ...authError, login: err.message,\n        });\n      });\n  }\n\n  //выход\n  function handleLogout() {\n    localStorage.removeItem('jwt');\n    localStorage.removeItem('Search')\n    setLoggedIn(false);\n    history.push('/');\n  }\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      const jwt = localStorage.getItem('token')\n      Promise.all([mainApi.getUserMe(jwt), mainApi.getArticles(jwt)])\n        .then(([userData, saveCardData]) => {\n          setcurrentUser(userData)\n          setSavedArticles(saveCardData)\n        })\n        .catch(err => console.log(err))\n    }\n  }, [loggedIn])\n\n  //сохранение статьи\n  function createArticle(data) {\n    const newArticles = savedArticles;\n    mainApi.createArticle(data)\n      .then((res) => {\n        newArticles.push(res);\n        setSavedArticles(newArticles);\n        const newArr = articles.map((item) => {\n          if (item.url === data.link) {\n            item._id = res._id\n          }\n          return item\n        })\n        setArticles(newArr)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  //удаление из сохраненных\n  const deleteArticleRequest = (id) => {\n    return mainApi.deleteArticle(id)\n      .then((res) => {\n        const result = savedArticles.filter(item => item._id !== id);\n        setSavedArticles(result);\n        const newArr = articles.map((item) => {\n          if (item._id === id) {\n            item._id = undefined\n          }\n          return item\n        })\n        setArticles(newArr)\n        // localStorage.removeItem('Saved')\n      })\n      .catch(err => console.log(err))\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header isOpenMob={mobileOpen}\n          theme={headerTheme}\n          loggedIn={loggedIn}\n          onClick={handlePopupLoginClick}\n          open={handlemobileOpenClick}\n          handleLogout={handleLogout}\n        />\n        <Switch>\n          <Route exact path='/'>\n            <Main search={search}\n              requestArticles={requestArticles}\n              data={articles}\n              setData={setArticles}\n              setSearch={setSearch}\n              theme={setheaderTheme}\n              articles={savedArticles}\n              createArticle={createArticle}\n              deleteArticle={deleteArticleRequest}\n              loggedIn={loggedIn}\n              saved={savedArticles}\n              onClick={handlePopupLoginClick}\n            />\n          </Route>\n          <ProtectedRoute exact\n            path='/saved-news'\n            component={SavedNews}\n            loggedIn={loggedIn}\n            theme={setheaderTheme}\n            data={articles}\n            articles={savedArticles}\n            saved={savedArticles}\n            deleteArticle={deleteArticleRequest}\n          />\n        </Switch>\n        <PopupRegister\n          isOpen={isPopupRegisterOpen}\n          onClose={closeAllPopups}\n          onClick={handlePopupLoginClick}\n          handleRegister={handleRegister}\n          onLogin={handlePopupLoginClick}\n          error={authError}\n        />\n        <PopupLogin\n          isOpen={isPopupLoginOpen}\n          onClose={closeAllPopups}\n          handleLogin={handleLogin}\n          onRegister={handlePopupRegisterClick}\n          error={authError}\n        />\n        <InfoTooltip\n          onLogin={handlePopupLoginClick}\n          isOpen={isInfoTooltipopen}\n          onClose={closeAllPopups}\n          onClick={isPopupLoginOpen}\n        />\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}